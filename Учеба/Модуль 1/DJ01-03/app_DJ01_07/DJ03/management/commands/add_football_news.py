from django.core.management.base import BaseCommand
from django.utils import timezone
from datetime import timedelta
from DJ03.models import NewsPost


class Command(BaseCommand):
	help = 'Добавляет 4 тестовые футбольные новости в базу данных'

	def handle(self, *args, **options):
		news_data = [
			{
				'title': 'Манчестер Юнайтед объявил о новом тренере',
				'user': 'Спорт Экспресс',
				'short_description': 'Клуб представил нового главного тренера на сезон 2024/2025',
				'text': 'Манчестер Юнайтед официально объявил о назначении нового главного тренера. Им стал известный специалист, ранее работавший в нескольких топ-клубах Европы. Контракт подписан на 3 года.',
				'date': timezone.now() - timedelta(days=1)
			},
			{
				'title': 'Мбаппе продлил контракт с ПСЖ',
				'user': 'Футбол 24/7',
				'short_description': 'Французский нападающий останется в парижском клубе',
				'text': 'Килиан Мбаппе официально продлил контракт с ПСЖ до 2026 года. Игрок получил значительное повышение зарплаты и теперь является самым высокооплачиваемым футболистом лиги.',
				'date': timezone.now() - timedelta(days=3)
			},
			{
				'title': 'Бразилия выиграла Кубок Америки',
				'user': 'Мир Футбола',
				'short_description': 'Сборная Бразилии в очередной раз стала чемпионом континента',
				'text': 'В финальном матче Кубка Америки сборная Бразилии обыграла Аргентину со счетом 2:1. Решающий гол был забит на 89-й минуте. Это уже 10-й титул бразильцев в этом турнире.',
				'date': timezone.now() - timedelta(days=5)
			},
			{
				'title': 'Новый стадион в Москве',
				'user': 'Спорт-Эксперт',
				'short_description': 'В столице построят современную арену на 60 тысяч мест',
				'text': 'Власти Москвы утвердили проект строительства нового футбольного стадиона. Арена будет соответствовать всем стандартам UEFA и сможет принимать матчи самого высокого уровня. Открытие запланировано на 2026 год.',
				'date': timezone.now() - timedelta(days=7)
			}
		]

		for data in news_data:
			NewsPost.objects.create(**data)

		self.stdout.write(self.style.SUCCESS('Успешно добавлено 4 футбольных новости'))